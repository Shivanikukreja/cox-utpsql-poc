parameters:
  - name: name
    default: ""  
  - name: download_location
    default: ""
  - name: unpack_location
    default: "$(Build.BinariesDirectory)"    
  - name: url
    default: ""
  - name: archive
    default: "zip"
  - name: addToPath
    default: ""

steps:
  - bash: |    
      curl -Lk -o ${{parameters.download_location}} \
            ${{parameters.url}}
    displayName: 'Download ${{parameters.name}}'

  - bash: |    
        echo Unzipping to ${{parameters.unpack_location}}
        unzip   -qq -d ${{parameters.unpack_location}} ${{parameters.download_location}}
        chmod -R u+x ${{parameters.unpack_location}}
        rm -rf ${{parameters.download_location}}
    displayName: 'Unzip ${{parameters.name}}'

  - bash: |    
        echo "##vso[task.prependpath]${{parameters.addToPath}}"
    displayName: 'Add To path ${{parameters.name}}'       
